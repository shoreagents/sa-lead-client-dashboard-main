# 🧮 BPOC Leaderboard Scoring Calculator

## 📊 Interactive Scoring Examples

### **Example 1: Sarah - New User (Bronze)**
```
┌─────────────────────────────────────────────────────────────┐
│                    SARAH'S SCORE BREAKDOWN                  │
├─────────────────────────────────────────────────────────────┤
│ 🎮 TYPING HERO (25% weight)                                │
│   • Best WPM: 35 → 35/100 × 40% = 14 points               │
│   • Best Accuracy: 60% → 60/100 × 30% = 18 points         │
│   • Avg WPM: 30 → 30/100 × 20% = 6 points                 │
│   • Sessions: 2 → 2/10 × 10% = 2 points                   │
│   └─ Total: 14 + 18 + 6 + 2 = 40/100                      │
│   └─ Weighted: 40 × 25% = 10.0 points                     │
├─────────────────────────────────────────────────────────────┤
│ 🧠 DISC PERSONALITY (25% weight)                          │
│   • Confidence: 70% → 70 × 50% = 35 points                │
│   • Sessions: 1 → 1/3 × 30% = 10 points                  │
│   • Has Type: Yes → 20 points                              │
│   └─ Total: 35 + 10 + 20 = 65/100                         │
│   └─ Weighted: 65 × 25% = 16.25 points                   │
├─────────────────────────────────────────────────────────────┤
│ 👤 PROFILE COMPLETION (15% weight)                         │
│   • Personal Data: No → 0 points                          │
│   • Work Status: No → 0 points                            │
│   • Avatar: No → 0 points                                 │
│   • Bio: No → 0 points                                    │
│   • Location: Yes → 10 points                             │
│   └─ Total: 0 + 0 + 0 + 0 + 10 = 10/100                   │
│   └─ Weighted: 10 × 15% = 1.5 points                      │
├─────────────────────────────────────────────────────────────┤
│ 📄 RESUME BUILDING (20% weight)                            │
│   • AI Score: None → 0 points                             │
│   • Saved Resume: No → 0 points                           │
│   └─ Total: 0/100                                         │
│   └─ Weighted: 0 × 20% = 0.0 points                      │
├─────────────────────────────────────────────────────────────┤
│ 💼 APPLICATIONS (15% weight)                             │
│   • Total Apps: 0 → 0 points                              │
│   • Active Apps: 0 → 0 points                             │
│   • Hired: 0 → 0 points                                   │
│   • Passed: 0 → 0 points                                  │
│   └─ Total: 0/100                                         │
│   └─ Weighted: 0 × 15% = 0.0 points                      │
├─────────────────────────────────────────────────────────────┤
│ 🏆 OVERALL SCORE: 10.0 + 16.25 + 1.5 + 0.0 + 0.0 = 28/100 │
│ 🥉 TIER: Bronze                                            │
└─────────────────────────────────────────────────────────────┘
```

### **Example 2: Mike - Active User (Gold)**
```
┌─────────────────────────────────────────────────────────────┐
│                    MIKE'S SCORE BREAKDOWN                  │
├─────────────────────────────────────────────────────────────┤
│ 🎮 TYPING HERO (25% weight)                                │
│   • Best WPM: 75 → 75/100 × 40% = 30 points               │
│   • Best Accuracy: 90% → 90/100 × 30% = 27 points         │
│   • Avg WPM: 65 → 65/100 × 20% = 13 points                │
│   • Sessions: 8 → 8/10 × 10% = 8 points                   │
│   └─ Total: 30 + 27 + 13 + 8 = 78/100                     │
│   └─ Weighted: 78 × 25% = 19.5 points                     │
├─────────────────────────────────────────────────────────────┤
│ 🧠 DISC PERSONALITY (25% weight)                          │
│   • Confidence: 85% → 85 × 50% = 42.5 points              │
│   • Sessions: 2 → 2/3 × 30% = 20 points                  │
│   • Has Type: Yes → 20 points                              │
│   └─ Total: 42.5 + 20 + 20 = 82.5/100                     │
│   └─ Weighted: 82.5 × 25% = 20.625 points                 │
├─────────────────────────────────────────────────────────────┤
│ 👤 PROFILE COMPLETION (15% weight)                         │
│   • Personal Data: Yes → 30 points                        │
│   • Work Status: Yes → 30 points                          │
│   • Avatar: Yes → 15 points                                │
│   • Bio: Yes → 15 points                                  │
│   • Location: Yes → 10 points                             │
│   └─ Total: 30 + 30 + 15 + 15 + 10 = 100/100              │
│   └─ Weighted: 100 × 15% = 15.0 points                   │
├─────────────────────────────────────────────────────────────┤
│ 📄 RESUME BUILDING (20% weight)                            │
│   • AI Score: 80 → 80 × 70% = 56 points                   │
│   • Saved Resume: Yes → 30 points                          │
│   └─ Total: 56 + 30 = 86/100                              │
│   └─ Weighted: 86 × 20% = 17.2 points                    │
├─────────────────────────────────────────────────────────────┤
│ 💼 APPLICATIONS (15% weight)                               │
│   • Total Apps: 12 → 12/20 × 40% = 24 points              │
│   • Active Apps: 4 → 4/10 × 30% = 12 points              │
│   • Hired: 0 → 0 points                                   │
│   • Passed: 1 → 10 points                                 │
│   └─ Total: 24 + 12 + 0 + 10 = 46/100                     │
│   └─ Weighted: 46 × 15% = 6.9 points                     │
├─────────────────────────────────────────────────────────────┤
│ 🏆 OVERALL SCORE: 19.5 + 20.625 + 15.0 + 17.2 + 6.9 = 79/100 │
│ 🥇 TIER: Gold                                              │
└─────────────────────────────────────────────────────────────┘
```

### **Example 3: Alex - Expert User (Diamond)**
```
┌─────────────────────────────────────────────────────────────┐
│                    ALEX'S SCORE BREAKDOWN                  │
├─────────────────────────────────────────────────────────────┤
│ 🎮 TYPING HERO (25% weight)                                │
│   • Best WPM: 95 → 95/100 × 40% = 38 points               │
│   • Best Accuracy: 98% → 98/100 × 30% = 29.4 points       │
│   • Avg WPM: 85 → 85/100 × 20% = 17 points                │
│   • Sessions: 12 → 10/10 × 10% = 10 points (capped)      │
│   └─ Total: 38 + 29.4 + 17 + 10 = 94.4/100                │
│   └─ Weighted: 94.4 × 25% = 23.6 points                  │
├─────────────────────────────────────────────────────────────┤
│ 🧠 DISC PERSONALITY (25% weight)                          │
│   • Confidence: 95% → 95 × 50% = 47.5 points              │
│   • Sessions: 4 → 3/3 × 30% = 30 points (capped)         │
│   • Has Type: Yes → 20 points                              │
│   └─ Total: 47.5 + 30 + 20 = 97.5/100                     │
│   └─ Weighted: 97.5 × 25% = 24.375 points                 │
├─────────────────────────────────────────────────────────────┤
│ 👤 PROFILE COMPLETION (15% weight)                         │
│   • Personal Data: Yes → 30 points                        │
│   • Work Status: Yes → 30 points                          │
│   • Avatar: Yes → 15 points                                │
│   • Bio: Yes → 15 points                                  │
│   • Location: Yes → 10 points                             │
│   └─ Total: 30 + 30 + 15 + 15 + 10 = 100/100               │
│   └─ Weighted: 100 × 15% = 15.0 points                    │
├─────────────────────────────────────────────────────────────┤
│ 📄 RESUME BUILDING (20% weight)                            │
│   • AI Score: 95 → 95 × 70% = 66.5 points                 │
│   • Saved Resume: Yes → 30 points                          │
│   └─ Total: 66.5 + 30 = 96.5/100                          │
│   └─ Weighted: 96.5 × 20% = 19.3 points                  │
├─────────────────────────────────────────────────────────────┤
│ 💼 APPLICATIONS (15% weight)                               │
│   • Total Apps: 25 → 20/20 × 40% = 40 points (capped)    │
│   • Active Apps: 3 → 3/10 × 30% = 9 points               │
│   • Hired: 2 → 2 × 20 = 40 points                         │
│   • Passed: 3 → 3 × 10 = 30 points                        │
│   └─ Total: MIN(40 + 9 + 40 + 30, 100) = 100/100 (capped) │
│   └─ Weighted: 100 × 15% = 15.0 points                   │
├─────────────────────────────────────────────────────────────┤
│ 🏆 OVERALL SCORE: 23.6 + 24.375 + 15.0 + 19.3 + 15.0 = 97/100 │
│ 💎 TIER: Diamond                                           │
└─────────────────────────────────────────────────────────────┘
```

---

## 🎯 SCORING STRATEGIES BY TIER

### **🥉 Bronze → 🥈 Silver (40 points needed)**
**Quick Wins:**
1. **Complete Profile** (15% weight = up to 15 points)
   - Personal data: +30 points
   - Work status: +30 points
   - Avatar: +15 points
   - Bio: +15 points
   - Location: +10 points
   - **Total: 100/100 = 15 points toward overall**

2. **Start Typing Hero** (25% weight = up to 25 points)
   - Play 1 session: ~10-20 points
   - **Total: 20/100 = 5 points toward overall**

3. **Take DISC Assessment** (25% weight = up to 25 points)
   - Complete 1 session: ~40-60 points
   - **Total: 50/100 = 12.5 points toward overall**

**Combined: 15 + 5 + 12.5 = 32.5 points → Silver tier!**

### **🥈 Silver → 🥇 Gold (60 points needed)**
**Focus Areas:**
1. **Improve Typing Hero** (25% weight)
   - Target: 60+ WPM, 80%+ accuracy
   - Play 3+ sessions consistently
   - **Goal: 70/100 = 17.5 points**

2. **Complete DISC Multiple Times** (25% weight)
   - Take 2-3 assessments
   - Aim for 80%+ confidence
   - **Goal: 80/100 = 20 points**

3. **Build Resume** (20% weight)
   - Get AI analysis (aim for 70+ score)
   - Save resume
   - **Goal: 80/100 = 16 points**

4. **Start Applying** (15% weight)
   - Apply to 5+ jobs
   - Keep applications active
   - **Goal: 40/100 = 6 points**

**Combined: 17.5 + 20 + 16 + 6 = 59.5 → Gold tier!**

### **🥇 Gold → 💠 Platinum (75 points needed)**
**Advanced Strategies:**
1. **Master Typing Hero** (25% weight)
   - Target: 80+ WPM, 90%+ accuracy
   - Play 5+ sessions
   - **Goal: 85/100 = 21.25 points**

2. **Expert DISC User** (25% weight)
   - Complete 3+ assessments
   - Achieve 90%+ confidence
   - **Goal: 90/100 = 22.5 points**

3. **High-Quality Resume** (20% weight)
   - AI score 85+
   - Multiple saved versions
   - **Goal: 90/100 = 18 points**

4. **Active Job Seeker** (15% weight)
   - Apply to 10+ jobs
   - Pass interviews
   - **Goal: 60/100 = 9 points**

**Combined: 21.25 + 22.5 + 18 + 9 = 70.75 → Platinum tier!**

### **💠 Platinum → 💎 Diamond (90 points needed)**
**Elite Performance:**
1. **Typing Hero Master** (25% weight)
   - Target: 90+ WPM, 95%+ accuracy
   - Consistent high performance
   - **Goal: 95/100 = 23.75 points**

2. **DISC Expert** (25% weight)
   - Maximum confidence (95%+)
   - Multiple completed sessions
   - **Goal: 95/100 = 23.75 points**

3. **Perfect Resume** (20% weight)
   - AI score 90+
   - Professional presentation
   - **Goal: 95/100 = 19 points**

4. **Successful Job Hunter** (15% weight)
   - Get hired multiple times
   - Pass multiple interviews
   - **Goal: 80/100 = 12 points**

**Combined: 23.75 + 23.75 + 19 + 12 = 78.5 → Diamond tier!**

---

## 📊 TIER DISTRIBUTION EXPECTATIONS

### **Typical User Distribution**
```
💎 Diamond (90-100):    5% of users
💠 Platinum (75-89):   15% of users  
🥇 Gold (60-74):       25% of users
🥈 Silver (40-59):     35% of users
🥉 Bronze (0-39):      20% of users
```

### **Score Ranges by Activity Level**
```
🏃‍♂️ New Users (0-30 days):
   • Typical range: 0-40 points
   • Focus: Profile completion, first games

🎯 Active Users (1-6 months):
   • Typical range: 40-70 points
   • Focus: Consistent gaming, resume building

🏆 Expert Users (6+ months):
   • Typical range: 70-100 points
   • Focus: Mastery, job success

💼 Job Seekers:
   • Bonus points from applications
   • Can reach higher tiers faster
```

---

## 🔍 SCORING DEBUGGING

### **Common Issues & Solutions**

#### **"My score is lower than expected"**
1. **Check component scores** in `metrics` JSON
2. **Verify data exists** in source tables
3. **Check for NULL values** in calculations
4. **Ensure triggers fired** after updates

#### **"My score didn't update"**
1. **Run manual update**: `SELECT update_user_leaderboard_score('USER_ID');`
2. **Check trigger status**: Verify triggers are enabled
3. **Check data freshness**: Ensure source data is recent

#### **"Rank position seems wrong"**
1. **Recalculate ranks**: `SELECT recalculate_leaderboard_ranks();`
2. **Check for ties**: Users with same score get same rank
3. **Verify sorting**: `updated_at` breaks ties

### **Debugging Queries**
```sql
-- Check user's detailed score
SELECT * FROM calculate_user_leaderboard_score('USER_ID');

-- Check user's current leaderboard entry
SELECT * FROM user_leaderboard_scores WHERE user_id = 'USER_ID';

-- Check component data sources
SELECT 
    ths.best_wpm, ths.best_accuracy, ths.avg_wpm, ths.completed_sessions,
    dps.best_confidence_score, dps.completed_sessions, dps.latest_primary_type,
    u.completed_data, uws.completed_data, u.avatar_url, u.bio, u.location,
    aar.overall_score,
    (SELECT COUNT(*) FROM applications WHERE user_id = 'USER_ID') as total_apps
FROM users u
LEFT JOIN typing_hero_stats ths ON u.id = ths.user_id
LEFT JOIN disc_personality_stats dps ON u.id = dps.user_id
LEFT JOIN user_work_status uws ON u.id = uws.user_id
LEFT JOIN ai_analysis_results aar ON u.id = aar.user_id
WHERE u.id = 'USER_ID';
```

---

This detailed scoring system ensures every user understands exactly how their leaderboard score is calculated and how to improve it! 🎯
